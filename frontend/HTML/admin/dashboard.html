<!DOCTYPE html>
<html>
  <head>
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <header class="navbar">
    <div class="nav-left">
        <span class="app-name">Mini App</span>
    </div>

    <div class="nav-right">
        <span class="user-info">
            ðŸ‘¤ <span id="nav-username"></span>
            (<span id="nav-role"></span>)
        </span>
        <button onclick="window.Auth.logout()" class="logout-btn">Logout</button>

    </div>
</header>


    <div class="page-content">
    <h2>Dashboard</h2>

    <ul class="ticket-list">
    <ul id="tickets"></ul>

    <script src="/js/auth.js"></script>
    <script src="/js/admin.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const user = Auth.requireAuth(); // role optional

        document.getElementById("nav-username").innerText =
          user.unique_name || user.username;

        document.getElementById("nav-role").innerText = user.role;
      });
    </script>
  </body>
</html>






